import{b as t}from"./browser-polyfill-27087e75.js";import{z as c,D as d}from"./user-config-5defb55d.js";async function n(){const a=await t.tabs.query({}),i=t.runtime.getURL("app.html"),s=a.find(p=>{var o;return(o=p.url)==null?void 0:o.startsWith(i)});if(s){await t.tabs.update(s.id,{active:!0});return}const{startupPage:e}=await c(),r=e===d?"":`#/chat/${e}`;await t.tabs.create({url:`app.html${r}`})}t.action.onClicked.addListener(()=>{n()});t.runtime.onInstalled.addListener(a=>{a.reason==="install"&&n()});t.commands.onCommand.addListener(async a=>{console.debug(`Command: ${a}`),a==="open-app"&&n()});
