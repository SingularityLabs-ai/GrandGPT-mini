import{a7 as i,ae as u,aV as p,aP as f,r,y as e,aJ as g,aK as j,aL as h,z as b,aM as y,aN as v,aa as n,aU as w,a8 as C}from"./ChatMessageList-a194eb08.js";import{b as N}from"./browser-polyfill-27087e75.js";import{C as P}from"./user-config-5defb55d.js";import"./proxy-fetch-986807a3.js";const k="/assets/premium-789ff5a2.svg";function B(){const{t:a}=i(),[t,c]=u(p),l=P[t],s=f(t),m=r.useCallback(async x=>{s.sendMessage(x)},[s]),o=r.useCallback(()=>{s.generating||s.resetConversation()},[s]),d=r.useMemo(()=>({reset:o}),[o]);return e.jsx(g.Provider,{value:d,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:l.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx("span",{className:"font-semibold text-primary-text text-xs",children:l.name}),e.jsx(j,{selectedBotId:t,onChange:c})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:h,className:b("w-4 h-4",s.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(y,{botId:t,messages:s.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(v,{mode:"compact",disabled:s.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:s.generating?e.jsx(n,{text:a("Stop"),color:"flat",size:"small",onClick:s.stopGenerating}):e.jsx(n,{text:a("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}function I(){const{t:a}=i(),t=r.useCallback(()=>{window.open(N.runtime.getURL("app.html#/premium"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:k,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:a("Premium Feature")}),e.jsx(n,{text:a("Upgrade to unlock"),color:"primary",onClick:t})]})}function S(){const a=C();return a.isLoading?null:a.activated?e.jsx(B,{}):e.jsx(I,{})}const A=document.getElementById("app"),M=w(A);M.render(e.jsx(S,{}));
